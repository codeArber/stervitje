# Rule: Handling of Supabase Generated Types

**Rule ID:** TYP001
**Applies to:** `src/types/supabase.ts`

**Description:** Governs the use and maintenance of the auto-generated TypeScript types from the Supabase database schema.

## The Rule

1.  The file `src/types/supabase.ts` is the single, designated destination for types generated by the `supabase gen types` command.
2.  This file **MUST NOT** be manually edited. It is to be treated as a read-only artifact of the database schema.
3.  All application code that needs to reference a raw database table, view, or enum type **MUST** import it from this file.

## Rationale

By treating the generated types file as a read-only artifact, we ensure that our application's type system is always a perfect mirror of the database schemaâ€”our single source of truth. Manual edits would break this contract, leading to type inconsistencies and runtime errors. This practice makes schema changes safe and predictable.

## Examples

### Correct (`src/types/index.ts`)

Application-specific types are composed by importing the raw, generated types.

```typescript
// Correct: Importing the 'Tables' utility type from the generated file.
import { Tables } from './supabase';

// Correct: Defining our application-specific 'Team' type based on the raw table.
export type Team = Tables<'teams'>;

// Correct: Using the raw type to build a more complex, application-specific type.
export type TeamWithMembers = Team & {
    members: Tables<'users'>[];
};
```

### Incorrect

A developer manually defines a type for a database table, completely ignoring the generated types. This type is now disconnected from the source of truth and will not update when the database schema changes.

**File:** `src/types/custom.ts`
```typescript
// Incorrect: This type is manually created and will become out of sync with the DB.
// It offers no guarantee that it matches the 'teams' table in Supabase.
export type Team = {
    id: string;
    created_at: string;
    name: string;
    // What if a 'description' column is added to the database?
    // This type will be missing it, leading to bugs.
};
```